<ion-header>
  <app-header [showUserIcon]="false" [showHalalTag]="false" [showLanguage]="false"></app-header>
</ion-header>
<ion-content class="page-bg">
  <app-sub-header [title]="titleValue"></app-sub-header>
  <favorites-widget [componentId]="getComponentId()" [action]="favoritesWidgetAction">
    <ng-template let-widget="widget">
      <div *ngIf="!widget.model">
        <ion-row class="favorites-list">
          <ion-col size-lg="3" size-md="4" size-xs="6" *ngFor="let i of [0,1,2,3]">
            <div class="favorite-item">
              <div class="icon icon-favourite-active"></div>
              <div class="skeleton-img"><app-skeleton [aspectRatio]="2" [width]="'100%'"></app-skeleton></div>
              <div class="fav-text">
                <h5><ion-skeleton-text width="150px"></ion-skeleton-text></h5>
                <div class="price" text-right>
                  <ion-skeleton-text width="50px"></ion-skeleton-text>
                </div>
              </div>
            </div>
          </ion-col>
        </ion-row>
      </div>

      <div *ngIf="widget.model !== undefined && widget.model.length === 0">
          <div class="no-favorites" *ngIf="false" text-center>{{'favorites_page.no_favorites' | translate}}</div>
      </div>

      <div *ngIf="widget.model !== undefined && widget.model.length !== 0">
        <ion-grid>
          <ion-row>
            <ion-col class="product-card-holder" *ngFor="let prod of widget.model" [sizeSm]="6"
                     [sizeXs]="6"
                     [sizeMd]="4" [sizeLg]="3" no-padding>
              <ion-card class="product-card non-deal-card" no-padding>
                <div class="icon icon-favourite-active"
                     style="position: absolute; z-index: 1; margin: 5px;"
                     (click)="updateFavorites(prod.client)">
                </div>
                <ion-card-header no-padding>
                  <img class="card-fav-img" height="100" src="{{getProductImageUrl(prod)}}"
                       img-preloader="{{getProductImageUrl(prod)}}"
                       defaultImage="assets/imgs/default/default.png"/>
                </ion-card-header>

                <ion-card-content padding>
                  <ion-card-subtitle class="product-title" color="dark">{{prod.title}}
                  </ion-card-subtitle>
                  <div class="price-segment" text-end>
                    <p>{{'category_listing.price_tag' | translate }}
                      <strong class="label-price">{{prod.webPrice | currency: currencyCode : (currencyCode + ' ') :'1.3-3'}}</strong>
                    </p>
                  </div>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </ng-template>
  </favorites-widget>
</ion-content>
